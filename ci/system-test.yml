---
platform: linux

image_resource:
  type: docker-image
  source:
    repository: java
    tag: 8-jdk-alpine

inputs:
- name: java-test-applications-built
  path: java-test-applications
- name: java-buildpack-system-test

run:
  path: java-buildpack-system-test/ci/system-test.sh

params:
  TEST_HOST:
  TEST_ORGANIZATION:
  TEST_PASSWORD:
  TEST_SKIPSSLVALIDATION:
  TEST_SPACE:
  TEST_USERNAME:
  TEST_HEALTH_EJB: false
  TEST_HEALTH_GROOVY: false
  TEST_HEALTH_JAVAMAIN: false
  TEST_HEALTH_RATPACK: false
  TEST_HEALTH_SPRINGBOOTCLI: false
  TEST_HEALTH_SPRINGBOOTCLIJAR: false
  TEST_HEALTH_WEB: true
  TEST_HEALTH_WEBSERVLET2: false
  TEST_MONGODB_EJB: false
  TEST_MYSQL_EJB: false
  TEST_POSTGRESQL_EJB: false
  TEST_RABBITMQ_EJB: false
  TEST_REDIS_EJB: false
  TEST_MONGODB_GROOVY: false
  TEST_MYSQL_GROOVY: false
  TEST_POSTGRESQL_GROOVY: false
  TEST_RABBITMQ_GROOVY: false
  TEST_REDIS_GROOVY: false
  TEST_MONGODB_JAVAMAIN: false
  TEST_MYSQL_JAVAMAIN: false
  TEST_POSTGRESQL_JAVAMAIN: false
  TEST_RABBITMQ_JAVAMAIN: false
  TEST_REDIS_JAVAMAIN: false
  TEST_MONGODB_RATPACK: false
  TEST_MYSQL_RATPACK: false
  TEST_POSTGRESQL_RATPACK: false
  TEST_RABBITMQ_RATPACK: false
  TEST_REDIS_RATPACK: false
  TEST_MONGODB_SPRINGBOOTCLI: false
  TEST_MYSQL_SPRINGBOOTCLI: false
  TEST_POSTGRESQL_SPRINGBOOTCLI: false
  TEST_RABBITMQ_SPRINGBOOTCLI: false
  TEST_REDIS_SPRINGBOOTCLI: false
  TEST_MONGODB_SPRINGBOOTCLIJAR: false
  TEST_MYSQL_SPRINGBOOTCLIJAR: false
  TEST_POSTGRESQL_SPRINGBOOTCLIJAR: false
  TEST_RABBITMQ_SPRINGBOOTCLIJAR: false
  TEST_REDIS_SPRINGBOOTCLIJAR: false
  TEST_MONGODB_WEB: false
  TEST_MYSQL_WEB: false
  TEST_POSTGRESQL_WEB: false
  TEST_RABBITMQ_WEB: false
  TEST_REDIS_WEB: false
  TEST_MONGODB_WEBSERVLET2: false
  TEST_MYSQL_WEBSERVLET2: false
  TEST_POSTGRESQL_WEBSERVLET2: false
  TEST_RABBITMQ_WEBSERVLET2: false
  TEST_REDIS_WEBSERVLET2: false
